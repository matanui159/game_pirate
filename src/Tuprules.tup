!CC = |> ^ CC %b^ gcc -c %f -o %o $(CC_FLAGS) |> bin/%B.o
!AR = |> ^ AR %O^ gcc-ar rc %o %f |>
!LD = |> ^ LD %O^ gcc %f -o %o $(LD_FLAGS) |>

CC_FLAGS += -Wall -Wextra

ifeq ($(DEBUG),y)
	CC_FLAGS += -g
else
	CC_FLAGS += -flto -Os
	LD_FLAGS += -flto -Os -s
endif