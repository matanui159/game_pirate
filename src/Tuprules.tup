!CC = |> ^ CC %b^ gcc -c %f -o %o $(CC_FLAGS) |> bin/%B.o
!AR = |> ^ AR %O^ gcc-ar rc %o %f |>
!LD = |> ^ LD %O^ gcc %f -o %o $(LD_FLAGS) |>

CC_FLAGS += -Wall -Wextra

ifeq ($(DEBUG),y)
	CC_FLAGS += -g
else
	CC_FLAGS += -flto -Os
	LD_FLAGS += -flto -Os -s
endif

UTIL = $(TUP_CWD)/util
UTIL_INC = -I$(UTIL)
UTIL_BIN = $(UTIL)/util.a

BUILD = $(TUP_CWD)/build
BUILD_BIN = $(BUILD)/build.exe
BUILD_OUT = graphics/ogl.h