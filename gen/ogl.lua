local list = {
	"glDrawRangeElements",
	"glTexImage3D",
	"glTexSubImage3D",
	"glCopyTexSubImage3D",
	"glActiveTexture",
	"glSampleCoverage",
	"glCompressedTexImage3D",
	"glCompressedTexImage2D",
	"glCompressedTexImage1D",
	"glCompressedTexSubImage3D",
	"glCompressedTexSubImage2D",
	"glCompressedTexSubImage1D",
	"glGetCompressedTexImage",
	"glClientActiveTexture",
	"glMultiTexCoord1d",
	"glMultiTexCoord1dv",
	"glMultiTexCoord1f",
	"glMultiTexCoord1fv",
	"glMultiTexCoord1i",
	"glMultiTexCoord1iv",
	"glMultiTexCoord1s",
	"glMultiTexCoord1sv",
	"glMultiTexCoord2d",
	"glMultiTexCoord2dv",
	"glMultiTexCoord2f",
	"glMultiTexCoord2fv",
	"glMultiTexCoord2i",
	"glMultiTexCoord2iv",
	"glMultiTexCoord2s",
	"glMultiTexCoord2sv",
	"glMultiTexCoord3d",
	"glMultiTexCoord3dv",
	"glMultiTexCoord3f",
	"glMultiTexCoord3fv",
	"glMultiTexCoord3i",
	"glMultiTexCoord3iv",
	"glMultiTexCoord3s",
	"glMultiTexCoord3sv",
	"glMultiTexCoord4d",
	"glMultiTexCoord4dv",
	"glMultiTexCoord4f",
	"glMultiTexCoord4fv",
	"glMultiTexCoord4i",
	"glMultiTexCoord4iv",
	"glMultiTexCoord4s",
	"glMultiTexCoord4sv",
	"glLoadTransposeMatrixf",
	"glLoadTransposeMatrixd",
	"glMultTransposeMatrixf",
	"glMultTransposeMatrixd",
	"glBlendFuncSeparate",
	"glMultiDrawArrays",
	"glMultiDrawElements",
	"glPointParameterf",
	"glPointParameterfv",
	"glPointParameteri",
	"glPointParameteriv",
	"glFogCoordf",
	"glFogCoordfv",
	"glFogCoordd",
	"glFogCoorddv",
	"glFogCoordPointer",
	"glSecondaryColor3b",
	"glSecondaryColor3bv",
	"glSecondaryColor3d",
	"glSecondaryColor3dv",
	"glSecondaryColor3f",
	"glSecondaryColor3fv",
	"glSecondaryColor3i",
	"glSecondaryColor3iv",
	"glSecondaryColor3s",
	"glSecondaryColor3sv",
	"glSecondaryColor3ub",
	"glSecondaryColor3ubv",
	"glSecondaryColor3ui",
	"glSecondaryColor3uiv",
	"glSecondaryColor3us",
	"glSecondaryColor3usv",
	"glSecondaryColorPointer",
	"glWindowPos2d",
	"glWindowPos2dv",
	"glWindowPos2f",
	"glWindowPos2fv",
	"glWindowPos2i",
	"glWindowPos2iv",
	"glWindowPos2s",
	"glWindowPos2sv",
	"glWindowPos3d",
	"glWindowPos3dv",
	"glWindowPos3f",
	"glWindowPos3fv",
	"glWindowPos3i",
	"glWindowPos3iv",
	"glWindowPos3s",
	"glWindowPos3sv",
	"glBlendColor",
	"glBlendEquation",
	"glGenQueries",
	"glDeleteQueries",
	"glIsQuery",
	"glBeginQuery",
	"glEndQuery",
	"glGetQueryiv",
	"glGetQueryObjectiv",
	"glGetQueryObjectuiv",
	"glBindBuffer",
	"glDeleteBuffers",
	"glGenBuffers",
	"glIsBuffer",
	"glBufferData",
	"glBufferSubData",
	"glGetBufferSubData",
	"glMapBuffer",
	"glUnmapBuffer",
	"glGetBufferParameteriv",
	"glGetBufferPointerv",
	"glBlendEquationSeparate",
	"glDrawBuffers",
	"glStencilOpSeparate",
	"glStencilFuncSeparate",
	"glStencilMaskSeparate",
	"glAttachShader",
	"glBindAttribLocation",
	"glCompileShader",
	"glCreateProgram",
	"glCreateShader",
	"glDeleteProgram",
	"glDeleteShader",
	"glDetachShader",
	"glDisableVertexAttribArray",
	"glEnableVertexAttribArray",
	"glGetActiveAttrib",
	"glGetActiveUniform",
	"glGetAttachedShaders",
	"glGetAttribLocation",
	"glGetProgramiv",
	"glGetProgramInfoLog",
	"glGetShaderiv",
	"glGetShaderInfoLog",
	"glGetShaderSource",
	"glGetUniformLocation",
	"glGetUniformfv",
	"glGetUniformiv",
	"glGetVertexAttribdv",
	"glGetVertexAttribfv",
	"glGetVertexAttribiv",
	"glGetVertexAttribPointerv",
	"glIsProgram",
	"glIsShader",
	"glLinkProgram",
	"glShaderSource",
	"glUseProgram",
	"glUniform1f",
	"glUniform2f",
	"glUniform3f",
	"glUniform4f",
	"glUniform1i",
	"glUniform2i",
	"glUniform3i",
	"glUniform4i",
	"glUniform1fv",
	"glUniform2fv",
	"glUniform3fv",
	"glUniform4fv",
	"glUniform1iv",
	"glUniform2iv",
	"glUniform3iv",
	"glUniform4iv",
	"glUniformMatrix2fv",
	"glUniformMatrix3fv",
	"glUniformMatrix4fv",
	"glValidateProgram",
	"glVertexAttrib1d",
	"glVertexAttrib1dv",
	"glVertexAttrib1f",
	"glVertexAttrib1fv",
	"glVertexAttrib1s",
	"glVertexAttrib1sv",
	"glVertexAttrib2d",
	"glVertexAttrib2dv",
	"glVertexAttrib2f",
	"glVertexAttrib2fv",
	"glVertexAttrib2s",
	"glVertexAttrib2sv",
	"glVertexAttrib3d",
	"glVertexAttrib3dv",
	"glVertexAttrib3f",
	"glVertexAttrib3fv",
	"glVertexAttrib3s",
	"glVertexAttrib3sv",
	"glVertexAttrib4Nbv",
	"glVertexAttrib4Niv",
	"glVertexAttrib4Nsv",
	"glVertexAttrib4Nub",
	"glVertexAttrib4Nubv",
	"glVertexAttrib4Nuiv",
	"glVertexAttrib4Nusv",
	"glVertexAttrib4bv",
	"glVertexAttrib4d",
	"glVertexAttrib4dv",
	"glVertexAttrib4f",
	"glVertexAttrib4fv",
	"glVertexAttrib4iv",
	"glVertexAttrib4s",
	"glVertexAttrib4sv",
	"glVertexAttrib4ubv",
	"glVertexAttrib4uiv",
	"glVertexAttrib4usv",
	"glVertexAttribPointer",
	"glUniformMatrix2x3fv",
	"glUniformMatrix3x2fv",
	"glUniformMatrix2x4fv",
	"glUniformMatrix4x2fv",
	"glUniformMatrix3x4fv",
	"glUniformMatrix4x3fv",
	"glColorMaski",
	"glGetBooleani_v",
	"glGetIntegeri_v",
	"glEnablei",
	"glDisablei",
	"glIsEnabledi",
	"glBeginTransformFeedback",
	"glEndTransformFeedback",
	"glBindBufferRange",
	"glBindBufferBase",
	"glTransformFeedbackVaryings",
	"glGetTransformFeedbackVarying",
	"glClampColor",
	"glBeginConditionalRender",
	"glEndConditionalRender",
	"glVertexAttribIPointer",
	"glGetVertexAttribIiv",
	"glGetVertexAttribIuiv",
	"glVertexAttribI1i",
	"glVertexAttribI2i",
	"glVertexAttribI3i",
	"glVertexAttribI4i",
	"glVertexAttribI1ui",
	"glVertexAttribI2ui",
	"glVertexAttribI3ui",
	"glVertexAttribI4ui",
	"glVertexAttribI1iv",
	"glVertexAttribI2iv",
	"glVertexAttribI3iv",
	"glVertexAttribI4iv",
	"glVertexAttribI1uiv",
	"glVertexAttribI2uiv",
	"glVertexAttribI3uiv",
	"glVertexAttribI4uiv",
	"glVertexAttribI4bv",
	"glVertexAttribI4sv",
	"glVertexAttribI4ubv",
	"glVertexAttribI4usv",
	"glGetUniformuiv",
	"glBindFragDataLocation",
	"glGetFragDataLocation",
	"glUniform1ui",
	"glUniform2ui",
	"glUniform3ui",
	"glUniform4ui",
	"glUniform1uiv",
	"glUniform2uiv",
	"glUniform3uiv",
	"glUniform4uiv",
	"glTexParameterIiv",
	"glTexParameterIuiv",
	"glGetTexParameterIiv",
	"glGetTexParameterIuiv",
	"glClearBufferiv",
	"glClearBufferuiv",
	"glClearBufferfv",
	"glClearBufferfi",
	"glGetStringi",
	"glIsRenderbuffer",
	"glBindRenderbuffer",
	"glDeleteRenderbuffers",
	"glGenRenderbuffers",
	"glRenderbufferStorage",
	"glGetRenderbufferParameteriv",
	"glIsFramebuffer",
	"glBindFramebuffer",
	"glDeleteFramebuffers",
	"glGenFramebuffers",
	"glCheckFramebufferStatus",
	"glFramebufferTexture1D",
	"glFramebufferTexture2D",
	"glFramebufferTexture3D",
	"glFramebufferRenderbuffer",
	"glGetFramebufferAttachmentParameteriv",
	"glGenerateMipmap",
	"glBlitFramebuffer",
	"glRenderbufferStorageMultisample",
	"glFramebufferTextureLayer",
	"glMapBufferRange",
	"glFlushMappedBufferRange",
	"glBindVertexArray",
	"glDeleteVertexArrays",
	"glGenVertexArrays",
	"glIsVertexArray",
	"glDrawArraysInstanced",
	"glDrawElementsInstanced",
	"glTexBuffer",
	"glPrimitiveRestartIndex",
	"glCopyBufferSubData",
	"glGetUniformIndices",
	"glGetActiveUniformsiv",
	"glGetActiveUniformName",
	"glGetUniformBlockIndex",
	"glGetActiveUniformBlockiv",
	"glGetActiveUniformBlockName",
	"glUniformBlockBinding",
	"glDrawElementsBaseVertex",
	"glDrawRangeElementsBaseVertex",
	"glDrawElementsInstancedBaseVertex",
	"glMultiDrawElementsBaseVertex",
	"glProvokingVertex",
	"glFenceSync",
	"glIsSync",
	"glDeleteSync",
	"glClientWaitSync",
	"glWaitSync",
	"glGetInteger64v",
	"glGetSynciv",
	"glGetInteger64i_v",
	"glGetBufferParameteri64v",
	"glFramebufferTexture",
	"glTexImage2DMultisample",
	"glTexImage3DMultisample",
	"glGetMultisamplefv",
	"glSampleMaski",
	"glBindFragDataLocationIndexed",
	"glGetFragDataIndex",
	"glGenSamplers",
	"glDeleteSamplers",
	"glIsSampler",
	"glBindSampler",
	"glSamplerParameteri",
	"glSamplerParameteriv",
	"glSamplerParameterf",
	"glSamplerParameterfv",
	"glSamplerParameterIiv",
	"glSamplerParameterIuiv",
	"glGetSamplerParameteriv",
	"glGetSamplerParameterIiv",
	"glGetSamplerParameterfv",
	"glGetSamplerParameterIuiv",
	"glQueryCounter",
	"glGetQueryObjecti64v",
	"glGetQueryObjectui64v",
	"glVertexAttribDivisor",
	"glVertexAttribP1ui",
	"glVertexAttribP1uiv",
	"glVertexAttribP2ui",
	"glVertexAttribP2uiv",
	"glVertexAttribP3ui",
	"glVertexAttribP3uiv",
	"glVertexAttribP4ui",
	"glVertexAttribP4uiv",
	"glVertexP2ui",
	"glVertexP2uiv",
	"glVertexP3ui",
	"glVertexP3uiv",
	"glVertexP4ui",
	"glVertexP4uiv",
	"glTexCoordP1ui",
	"glTexCoordP1uiv",
	"glTexCoordP2ui",
	"glTexCoordP2uiv",
	"glTexCoordP3ui",
	"glTexCoordP3uiv",
	"glTexCoordP4ui",
	"glTexCoordP4uiv",
	"glMultiTexCoordP1ui",
	"glMultiTexCoordP1uiv",
	"glMultiTexCoordP2ui",
	"glMultiTexCoordP2uiv",
	"glMultiTexCoordP3ui",
	"glMultiTexCoordP3uiv",
	"glMultiTexCoordP4ui",
	"glMultiTexCoordP4uiv",
	"glNormalP3ui",
	"glNormalP3uiv",
	"glColorP3ui",
	"glColorP3uiv",
	"glColorP4ui",
	"glColorP4uiv",
	"glSecondaryColorP3ui",
	"glSecondaryColorP3uiv"
}

for i, v in ipairs(list) do
	list[i] = {
		func = v,
		type = "PFN" .. v:upper() .. "PROC"
	}
end

local out = io.open(arg[1], "wb")
out:write([[
#ifndef OGL_H_
#define OGL_H_
#include <GL/gl.h>
#include <GL/glext.h>

]])

for i, v in ipairs(list) do
	out:write("extern " .. v.type .. " ogl_" .. v.func .. ";\n")
end

out:write([[

void ogl_init();

]])

for i, v in ipairs(list) do
	out:write("#define " .. v.func .. " ogl_" .. v.func .. "\n")
end

out:write([[

#endif
#ifdef OGL_BUILD
#include <windows.h>

]])

for i, v in ipairs(list) do
	out:write(v.type .. " ogl_" .. v.func .. ";\n");
end

out:write([[

static PROC ogl_proc(const char* name) {
	PROC result = wglGetProcAddress(name);
	if (result == NULL) {
		MessageBox(NULL, name, NULL, MB_ICONERROR);
		ExitProcess(1);
	}
	return result;
}

void ogl_init() {
]])

for i, v in ipairs(list) do
	out:write("\togl_" .. v.func .. " = (" .. v.type .. ")"
		.. "ogl_proc(\"" .. v.func .. "\");\n")
end

out:write([[
}

#endif
]])